{% extends 'base.html.twig' %}

{% block title%} Developers {% endblock %}

{% block body %}

  <a href="/developer/new" class="btn btn-red">Create new developer</a>
  <a href="/task/unassign-all" class="btn btn-red">Unassign all tasks</a>
  
  <a href="/developer/new" class="btn btn-red"></a>
  {% if developers %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Level</th>
          <th>Weekly Working Hour</th>
          <th>Assigned Task</th>
          <th>Developer Weekly Max Point</th>
          <th>Assigned Tasks Total Point</th>
          <th>Task Completion Time(week)</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        {%  for developer in developers %}
          <tr>
            <td>{{ developer.getName() }}</td>
            <td>{{ developer.getLevel() }}</td>
            <td>{{ developer.getWeeklyWorkingHour() }}</td>
            <td>{{ developer.getDeveloperTasks().count  }}</td>
            <td>{{ developer.getWeeklyTaskPoint() }}</td>
            <td>{{ developer.getTotalAssignedTaskPoint() }}</td>
            <td>{{ developer.getTotalAssignedTaskPoint() / developer.getWeeklyTaskPoint() }}</td>
            <td>
              <a href="/developer/{{ developer.id }}/edit" class="btn btn-dark">Edit</a>
              <a href="/developer/{{ developer.id }}" class="btn btn-dark">List Tasks</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No developers.</p>
  {% endif %}

{% endblock %}